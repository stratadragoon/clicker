<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8"/>
	<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
	<title>Multiplayer Boss Fight</title>
	<style>
		body {
			height: 100vh; margin:0;
			display:flex; flex-direction:column;
			justify-content:center; align-items:center;
			background:#f5f5f5;
			font-family:Arial,sans-serif;
		}
		#enemy { cursor:pointer; }
		#enemyName { margin-top:10px; font-size:1.5rem; font-weight:bold; }
		#health    { margin-top:5px; font-size:1.25rem; }
	</style>
</head>
<body>
	<img    id="enemy" src="/img/enemy-001-large.png" alt="Boss">
	<div   id="enemyName">?</div>
	<div   id="health">0 / 0 HP</div>

	<script src="/socket.io/socket.io.js"></script>
	<script>
		const socket = io();

		// When we get the shared state, render it
		socket.on('boss state', ({ name, maxHP, currentHP }) => {
			document.getElementById('enemyName').textContent = name;
			document.getElementById('health').textContent    =
				`${currentHP} / ${maxHP} HP`;
		});

		// Clicking the image sends a “hit”
		document.getElementById('enemy').addEventListener('click', () => {
			socket.emit('hit');
		});
	</script>
</body>
</html>
